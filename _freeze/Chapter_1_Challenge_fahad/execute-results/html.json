{
  "hash": "39e81c16c009ebb184deb5ea99d63ad4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Challenge 1 - Data Science Fundamentals\"\ndate: \"05/30/2024\"\noutput: \n    html_document:\n        toc: TRUE\n        theme: flatly\n        highlight: tango\n        code_folding: hide\n        df_print: paged\n---\n\n\n\n\n\n# Challenge Summary\n\n__Your organization wants to know which companies are similar to each other to help in identifying potential customers of a SAAS software solution (e.g. Salesforce CRM or equivalent) in various segments of the market. The Sales Department is very interested in this analysis, which will help them more easily penetrate various market segments.__\n\nYou will be using stock prices in this analysis. You come up with a method to classify companies based on how their stocks trade using their daily stock returns (percentage movement from one day to the next). This analysis will help your organization determine which companies are related to each other (competitors and have similar attributes). \n\nYou can analyze the stock prices using what you've learned in the unsupervised learning tools including K-Means and UMAP. You will use a combination of `kmeans()` to find groups and `umap()` to visualize similarity of daily stock returns.\n\n# Objectives\n\nApply your knowledge on K-Means and UMAP along with `dplyr`, `ggplot2`, and `purrr` to create a visualization that identifies subgroups in the S&P 500 Index. You will specifically apply:\n\n- Modeling: `kmeans()` and `umap()`\n- Iteration: `purrr`\n- Data Manipulation: `dplyr`, `tidyr`, and `tibble`\n- Visualization: `ggplot2` (bonus `plotly`)\n\n\n# Libraries\n\nLoad the following libraries. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"plotly\")\n\nlibrary(tidyverse)\nlibrary(tidyquant)\nlibrary(broom)\nlibrary(umap)\n```\n:::\n\n\n\n\n# Data\n\nWe will be using stock prices in this analysis. Although some of you know already how to use an API to retrieve stock prices I obtained the stock prices for every stock in the S&P 500 index for you already. The files are saved in the `session_6_data` directory. \n\nWe can read in the stock prices. The data is 1.2M observations. The most important columns for our analysis are:\n\n- `symbol`: The stock ticker symbol that corresponds to a company's stock price\n- `date`: The timestamp relating the symbol to the share price at that point in time\n- `adjusted`: The stock price, adjusted for any splits and dividends (we use this when analyzing stock data over long periods of time) \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# STOCK PRICES\nsp_500_prices_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/sp_500_prices_tbl.rds\")\nsp_500_prices_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,225,765 × 8\n   symbol date        open  high   low close   volume adjusted\n   <chr>  <date>     <dbl> <dbl> <dbl> <dbl>    <dbl>    <dbl>\n 1 MSFT   2009-01-02  19.5  20.4  19.4  20.3 50084000     15.9\n 2 MSFT   2009-01-05  20.2  20.7  20.1  20.5 61475200     16.0\n 3 MSFT   2009-01-06  20.8  21    20.6  20.8 58083400     16.2\n 4 MSFT   2009-01-07  20.2  20.3  19.5  19.5 72709900     15.2\n 5 MSFT   2009-01-08  19.6  20.2  19.5  20.1 70255400     15.7\n 6 MSFT   2009-01-09  20.2  20.3  19.4  19.5 49815300     15.2\n 7 MSFT   2009-01-12  19.7  19.8  19.3  19.5 52163500     15.2\n 8 MSFT   2009-01-13  19.5  20.0  19.5  19.8 65843500     15.5\n 9 MSFT   2009-01-14  19.5  19.7  19.0  19.1 80257500     14.9\n10 MSFT   2009-01-15  19.1  19.3  18.5  19.2 96169800     15.0\n# ℹ 1,225,755 more rows\n```\n\n\n:::\n:::\n\n\n\nThe second data frame contains information about the stocks the most important of which are:\n\n- `company`: The company name\n- `sector`: The sector that the company belongs to\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# SECTOR INFORMATION\nsp_500_index_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/sp_500_index_tbl.rds\")\nsp_500_index_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    symbol                                             company       weight\n1     MSFT                               Microsoft Corporation 3.589659e-02\n2     AAPL                                          Apple Inc. 3.299844e-02\n3     AMZN                                     Amazon.com Inc. 2.834845e-02\n4    BRK.B                     Berkshire Hathaway Inc. Class B 1.714493e-02\n5       FB                               Facebook Inc. Class A 1.676060e-02\n6      JNJ                                   Johnson & Johnson 1.570168e-02\n7      JPM                                JPMorgan Chase & Co. 1.507235e-02\n8     GOOG                               Alphabet Inc. Class C 1.470747e-02\n9    GOOGL                               Alphabet Inc. Class A 1.436854e-02\n10     XOM                             Exxon Mobil Corporation 1.412361e-02\n11     BAC                                Bank of America Corp 1.141184e-02\n12     UNH                     UnitedHealth Group Incorporated 1.119696e-02\n13       V                                   Visa Inc. Class A 1.093462e-02\n14      PG                            Procter & Gamble Company 1.053192e-02\n15     PFE                                         Pfizer Inc. 1.052585e-02\n16    INTC                                   Intel Corporation 1.012464e-02\n17     CVX                                 Chevron Corporation 9.790428e-03\n18      VZ                         Verizon Communications Inc. 9.784105e-03\n19    CSCO                                  Cisco Systems Inc. 9.544976e-03\n20       T                                           AT&T Inc. 9.518933e-03\n21      BA                                      Boeing Company 9.479343e-03\n22      HD                                     Home Depot Inc. 9.332370e-03\n23     WFC                               Wells Fargo & Company 8.957703e-03\n24     MRK                                    Merck & Co. Inc. 8.915412e-03\n25      MA                     Mastercard Incorporated Class A 8.635942e-03\n26      KO                                   Coca-Cola Company 7.439485e-03\n27   CMCSA                         Comcast Corporation Class A 7.368779e-03\n28     DIS                                 Walt Disney Company 7.194712e-03\n29     PEP                                        PepsiCo Inc. 7.023937e-03\n30       C                                      Citigroup Inc. 6.744127e-03\n31    NFLX                                        Netflix Inc. 6.680205e-03\n32     WMT                                        Walmart Inc. 6.127690e-03\n33     MCD                              McDonald's Corporation 5.961227e-03\n34     ABT                                 Abbott Laboratories 5.673213e-03\n35    ORCL                                  Oracle Corporation 5.649621e-03\n36      PM                    Philip Morris International Inc. 5.569381e-03\n37    ADBE                                          Adobe Inc. 5.423148e-03\n38     IBM         International Business Machines Corporation 5.378546e-03\n39     UNP                           Union Pacific Corporation 5.373873e-03\n40    DWDP                                      DowDuPont Inc. 5.343558e-03\n41     MDT                                       Medtronic plc 5.320276e-03\n42    ABBV                                         AbbVie Inc. 5.227510e-03\n43     MMM                                          3M Company 5.225519e-03\n44     CRM                                 salesforce.com inc. 5.221497e-03\n45    AMGN                                          Amgen Inc. 5.154364e-03\n46    AVGO                                       Broadcom Inc. 5.010262e-03\n47     LLY                               Eli Lilly and Company 4.959256e-03\n48     HON                        Honeywell International Inc. 4.860377e-03\n49    PYPL                                 PayPal Holdings Inc 4.796215e-03\n50     NKE                                   NIKE Inc. Class B 4.662578e-03\n51     UTX                     United Technologies Corporation 4.450672e-03\n52     TXN                      Texas Instruments Incorporated 4.437206e-03\n53     TMO                       Thermo Fisher Scientific Inc. 4.363659e-03\n54     ACN                               Accenture Plc Class A 4.355615e-03\n55    NVDA                                  NVIDIA Corporation 4.119677e-03\n56    COST                        Costco Wholesale Corporation 4.072393e-03\n57     LIN                                           Linde plc 3.986931e-03\n58      MO                                    Altria Group Inc 3.917806e-03\n59     CVS                              CVS Health Corporation 3.853464e-03\n60    BKNG                               Booking Holdings Inc. 3.844550e-03\n61     NEE                                 NextEra Energy Inc. 3.774455e-03\n62      GE                            General Electric Company 3.767361e-03\n63    SBUX                               Starbucks Corporation 3.765740e-03\n64    GILD                                Gilead Sciences Inc. 3.740188e-03\n65     BMY                        Bristol-Myers Squibb Company 3.620328e-03\n66     LOW                               Lowe's Companies Inc. 3.611353e-03\n67     COP                                      ConocoPhillips 3.482849e-03\n68    ANTM                                         Anthem Inc. 3.459557e-03\n69     CAT                                    Caterpillar Inc. 3.452684e-03\n70     AMT                          American Tower Corporation 3.362129e-03\n71     USB                                        U.S. Bancorp 3.355776e-03\n72     UPS                  United Parcel Service Inc. Class B 3.308592e-03\n73     LMT                         Lockheed Martin Corporation 3.248902e-03\n74     AXP                            American Express Company 3.238637e-03\n75      CI                                   Cigna Corporation 3.172444e-03\n76    MDLZ                 Mondelez International Inc. Class A 3.018507e-03\n77      GS                            Goldman Sachs Group Inc. 2.949052e-03\n78     DHR                                 Danaher Corporation 2.945331e-03\n79    BIIB                                         Biogen Inc. 2.878567e-03\n80     BDX                        Becton Dickinson and Company 2.859908e-03\n81     ADP                      Automatic Data Processing Inc. 2.800078e-03\n82    CELG                                 Celgene Corporation 2.724370e-03\n83    QCOM                               QUALCOMM Incorporated 2.704791e-03\n84     CME                              CME Group Inc. Class A 2.693005e-03\n85     TJX                                   TJX Companies Inc 2.688162e-03\n86    ISRG                             Intuitive Surgical Inc. 2.687962e-03\n87     DUK                             Duke Energy Corporation 2.677987e-03\n88    CHTR                 Charter Communications Inc. Class A 2.661359e-03\n89     SLB                                     Schlumberger NV 2.656396e-03\n90      CB                                       Chubb Limited 2.635526e-03\n91    INTU                                         Intuit Inc. 2.599428e-03\n92     WBA                        Walgreens Boots Alliance Inc 2.537987e-03\n93     CSX                                     CSX Corporation 2.499398e-03\n94     EOG                                  EOG Resources Inc. 2.479198e-03\n95     SYK                                 Stryker Corporation 2.475356e-03\n96     PNC                   PNC Financial Services Group Inc. 2.461979e-03\n97      CL                           Colgate-Palmolive Company 2.459598e-03\n98     SPG                           Simon Property Group Inc. 2.420539e-03\n99    SCHW                          Charles Schwab Corporation 2.380268e-03\n100    BSX                       Boston Scientific Corporation 2.362500e-03\n101      D                                 Dominion Energy Inc 2.362490e-03\n102     MS                                      Morgan Stanley 2.357517e-03\n103   FOXA               Twenty-First Century Fox Inc. Class A 2.286632e-03\n104    BLK                                      BlackRock Inc. 2.263240e-03\n105    RTN                                    Raytheon Company 2.245281e-03\n106    OXY                    Occidental Petroleum Corporation 2.194796e-03\n107     GM                              General Motors Company 2.190574e-03\n108     DE                                     Deere & Company 2.180539e-03\n109     SO                                    Southern Company 2.143840e-03\n110    NSC                        Norfolk Southern Corporation 2.139458e-03\n111    NOC                        Northrop Grumman Corporation 2.133255e-03\n112   SPGI                                     S&P Global Inc. 2.128033e-03\n113    CCI                     Crown Castle International Corp 2.127052e-03\n114     GD                        General Dynamics Corporation 2.084551e-03\n115     BK                 Bank of New York Mellon Corporation 2.081129e-03\n116   VRTX                 Vertex Pharmaceuticals Incorporated 2.052085e-03\n117     MU                              Micron Technology Inc. 2.021239e-03\n118    EXC                                  Exelon Corporation 1.989433e-03\n119    MMC                     Marsh & McLennan Companies Inc. 1.961229e-03\n120    ZTS                                 Zoetis Inc. Class A 1.957868e-03\n121    MPC                      Marathon Petroleum Corporation 1.930374e-03\n122    PLD                                       Prologis Inc. 1.912765e-03\n123    MET                                        MetLife Inc. 1.906152e-03\n124    ITW                            Illinois Tool Works Inc. 1.901359e-03\n125    AGN                                        Allergan plc 1.894716e-03\n126   ILMN                                       Illumina Inc. 1.881459e-03\n127    FDX                                   FedEx Corporation 1.858768e-03\n128    ICE                      Intercontinental Exchange Inc. 1.849193e-03\n129    EMR                                Emerson Electric Co. 1.828073e-03\n130    HUM                                         Humana Inc. 1.825011e-03\n131   CTSH  Cognizant Technology Solutions Corporation Class A 1.818338e-03\n132    AON                                             Aon plc 1.779839e-03\n133    ECL                                         Ecolab Inc. 1.774246e-03\n134    PGR                             Progressive Corporation 1.773456e-03\n135    KMB                          Kimberly-Clark Corporation 1.754196e-03\n136    PSX                                         Phillips 66 1.751575e-03\n137    PRU                           Prudential Financial Inc. 1.680439e-03\n138    ADI                                 Analog Devices Inc. 1.677838e-03\n139    BBT                                    BB&T Corporation 1.672945e-03\n140    AEP                American Electric Power Company Inc. 1.667633e-03\n141    COF                   Capital One Financial Corporation 1.667192e-03\n142     WM                               Waste Management Inc. 1.664881e-03\n143    HCA                                  HCA Healthcare Inc 1.662640e-03\n144   AMAT                              Applied Materials Inc. 1.640689e-03\n145    TGT                                  Target Corporation 1.633986e-03\n146    APD                     Air Products and Chemicals Inc. 1.629554e-03\n147    AFL                                  Aflac Incorporated 1.614086e-03\n148    AIG                   American International Group Inc. 1.602040e-03\n149     EW                    Edwards Lifesciences Corporation 1.591745e-03\n150    HPQ                                             HP Inc. 1.572385e-03\n151    BAX                           Baxter International Inc. 1.557538e-03\n152    SHW                            Sherwin-Williams Company 1.553596e-03\n153    VLO                           Valero Energy Corporation 1.538518e-03\n154    FIS         Fidelity National Information Services Inc. 1.527503e-03\n155    KMI                           Kinder Morgan Inc Class P 1.522860e-03\n156   ROST                                    Ross Stores Inc. 1.512285e-03\n157   ADSK                                       Autodesk Inc. 1.491685e-03\n158    MAR                 Marriott International Inc. Class A 1.489754e-03\n159     EL                 Estee Lauder Companies Inc. Class A 1.484361e-03\n160   FISV                                         Fiserv Inc. 1.480919e-03\n161    TRV                            Travelers Companies Inc. 1.469054e-03\n162    ETN                                     Eaton Corp. Plc 1.454436e-03\n163   EQIX                                        Equinix Inc. 1.453206e-03\n164   ATVI                            Activision Blizzard Inc. 1.451855e-03\n165      F                                  Ford Motor Company 1.427123e-03\n166   EBAY                                           eBay Inc. 1.422420e-03\n167    WMB                             Williams Companies Inc. 1.408363e-03\n168   REGN                      Regeneron Pharmaceuticals Inc. 1.402270e-03\n169     EA                                Electronic Arts Inc. 1.393026e-03\n170    ALL                                Allstate Corporation 1.392405e-03\n171    JCI                  Johnson Controls International plc 1.385652e-03\n172    SYY                                   Sysco Corporation 1.378898e-03\n173    ROP                             Roper Technologies Inc. 1.376557e-03\n174    DAL                                Delta Air Lines Inc. 1.372395e-03\n175    RHT                                        Red Hat Inc. 1.369004e-03\n176     DG                          Dollar General Corporation 1.350724e-03\n177    SRE                                       Sempra Energy 1.345972e-03\n178   ORLY                            O'Reilly Automotive Inc. 1.332325e-03\n179    PSA                                      Public Storage 1.328894e-03\n180   XLNX                                         Xilinx Inc. 1.285252e-03\n181    STI                                 SunTrust Banks Inc. 1.279929e-03\n182    YUM                                    Yum! Brands Inc. 1.273546e-03\n183    LUV                              Southwest Airlines Co. 1.271535e-03\n184    KHC                                 Kraft Heinz Company 1.264782e-03\n185   WELL                                      Welltower Inc. 1.251195e-03\n186    STZ                   Constellation Brands Inc. Class A 1.248293e-03\n187   ALXN                        Alexion Pharmaceuticals Inc. 1.231145e-03\n188    TEL                                TE Connectivity Ltd. 1.220970e-03\n189   LRCX                            Lam Research Corporation 1.219289e-03\n190    PEG                 Public Service Enterprise Group Inc 1.214677e-03\n191    VFC                                    V.F. Corporation 1.208463e-03\n192    MCO                                 Moody's Corporation 1.206382e-03\n193    HAL                                 Halliburton Company 1.196988e-03\n194    LYB                        LyondellBasell Industries NV 1.196237e-03\n195    GLW                                         Corning Inc 1.194216e-03\n196    OKE                                          ONEOK Inc. 1.188553e-03\n197    APH                        Amphenol Corporation Class A 1.185542e-03\n198    XEL                                    Xcel Energy Inc. 1.179399e-03\n199    AVB                          AvalonBay Communities Inc. 1.156808e-03\n200    MCK                                McKesson Corporation 1.156177e-03\n201    EQR                                  Equity Residential 1.150735e-03\n202    GIS                                  General Mills Inc. 1.145642e-03\n203    STT                            State Street Corporation 1.145102e-03\n204    CNC                                 Centene Corporation 1.138238e-03\n205    PPG                                 PPG Industries Inc. 1.127853e-03\n206     IR                                  Ingersoll-Rand Plc 1.096718e-03\n207    ZBH                         Zimmer Biomet Holdings Inc. 1.073786e-03\n208      A                           Agilent Technologies Inc. 1.061240e-03\n209    MTB                                M&T Bank Corporation 1.058008e-03\n210    PXD                   Pioneer Natural Resources Company 1.051955e-03\n211    CXO                               Concho Resources Inc. 1.051925e-03\n212    DFS                         Discover Financial Services 1.043961e-03\n213     ED                            Consolidated Edison Inc. 1.042370e-03\n214    HLT                       Hilton Worldwide Holdings Inc 1.041860e-03\n215    FOX               Twenty-First Century Fox Inc. Class B 1.041340e-03\n216   PAYX                                        Paychex Inc. 1.035437e-03\n217    FTV                                       Fortive Corp. 1.033396e-03\n218   PCAR                                          PACCAR Inc 1.017388e-03\n219    DLR                           Digital Realty Trust Inc. 1.011595e-03\n220   TROW                                 T. Rowe Price Group 1.010384e-03\n221    ADM                      Archer-Daniels-Midland Company 1.006973e-03\n222     KR                                          Kroger Co. 1.001020e-03\n223    CMI                                        Cummins Inc. 9.979983e-04\n224   DLTR                                    Dollar Tree Inc. 9.979783e-04\n225    AZO                                       AutoZone Inc. 9.977982e-04\n226    WEC                                WEC Energy Group Inc 9.976581e-04\n227   MNST                        Monster Beverage Corporation 9.970779e-04\n228    APC                      Anadarko Petroleum Corporation 9.903545e-04\n229  CCL.U                                Carnival Corporation 9.873830e-04\n230    VTR                                         Ventas Inc. 9.864626e-04\n231    HPE                      Hewlett Packard Enterprise Co. 9.839113e-04\n232     PH                         Parker-Hannifin Corporation 9.801494e-04\n233    IQV                                  IQVIA Holdings Inc 9.759873e-04\n234    MSI                             Motorola Solutions Inc. 9.730559e-04\n235   TWTR                                        Twitter Inc. 9.606297e-04\n236   WLTW         Willis Towers Watson Public Limited Company 9.449018e-04\n237     ES                                   Eversource Energy 9.445016e-04\n238    PPL                                     PPL Corporation 9.408298e-04\n239    ROK                            Rockwell Automation Inc. 9.317452e-04\n240    DTE                                  DTE Energy Company 9.294641e-04\n241    SYF                                 Synchrony Financial 9.250619e-04\n242   APTV                                           Aptiv PLC 9.162075e-04\n243   MCHP                   Microchip Technology Incorporated 9.087137e-04\n244    TDG                        TransDigm Group Incorporated 9.086637e-04\n245   SBAC                    SBA Communications Corp. Class A 9.083636e-04\n246    SWK                         Stanley Black & Decker Inc. 8.942865e-04\n247    AMD                         Advanced Micro Devices Inc. 8.933361e-04\n248   NTRS                          Northern Trust Corporation 8.885036e-04\n249      O                           Realty Income Corporation 8.874931e-04\n250   VRSK                                Verisk Analytics Inc 8.821104e-04\n251    BXP                              Boston Properties Inc. 8.754071e-04\n252    UAL                    United Continental Holdings Inc. 8.631610e-04\n253    RCL                        Royal Caribbean Cruises Ltd. 8.626407e-04\n254    CLX                                      Clorox Company 8.558573e-04\n255    FLT                          FleetCor Technologies Inc. 8.436713e-04\n256    EIX                                Edison International 8.369679e-04\n257    GPN                                Global Payments Inc. 8.353671e-04\n258    HRS                                  Harris Corporation 8.295442e-04\n259     IP                         International Paper Company 8.223906e-04\n260     FE                                   FirstEnergy Corp. 8.221105e-04\n261     WY                                Weyerhaeuser Company 8.213501e-04\n262   INFO                                     IHS Markit Ltd. 8.174982e-04\n263   CERN                                  Cerner Corporation 8.136563e-04\n264   VRSN                                       VeriSign Inc. 8.048018e-04\n265    NUE                                   Nucor Corporation 8.041515e-04\n266    BLL                                    Ball Corporation 7.976183e-04\n267   ALGN                               Align Technology Inc. 7.962776e-04\n268    TSN                            Tyson Foods Inc. Class A 7.915152e-04\n269    AMP                           Ameriprise Financial Inc. 7.904947e-04\n270    KEY                                             KeyCorp 7.861025e-04\n271    DXC                                  DXC Technology Co. 7.849519e-04\n272    ESS                           Essex Property Trust Inc. 7.820805e-04\n273   IDXX                             IDEXX Laboratories Inc. 7.770380e-04\n274    AME                                         AMETEK Inc. 7.766478e-04\n275   FITB                                 Fifth Third Bancorp 7.736063e-04\n276    WAT                                  Waters Corporation 7.714552e-04\n277   FAST                                    Fastenal Company 7.690040e-04\n278    FCX                               Freeport-McMoRan Inc. 7.602396e-04\n279    AWK                   American Water Works Company Inc. 7.555272e-04\n280    NEM                          Newmont Mining Corporation 7.529760e-04\n281   CTAS                                  Cintas Corporation 7.481436e-04\n282    CFG                       Citizens Financial Group Inc. 7.464627e-04\n283   ULTA                                     Ulta Beauty Inc 7.426108e-04\n284    HIG              Hartford Financial Services Group Inc. 7.408799e-04\n285    FRC                                 First Republic Bank 7.325258e-04\n286    CBS                             CBS Corporation Class B 7.311351e-04\n287    RSG                              Republic Services Inc. 7.226008e-04\n288   KLAC                              KLA-Tencor Corporation 7.217504e-04\n289    AEE                                  Ameren Corporation 7.206898e-04\n290    MTD                   Mettler-Toledo International Inc. 7.184887e-04\n291    OMC                                   Omnicom Group Inc 7.175283e-04\n292    CAH                                Cardinal Health Inc. 7.103347e-04\n293     RF                       Regions Financial Corporation 7.101146e-04\n294   NTAP                                         NetApp Inc. 7.097444e-04\n295    LLL                                 L3 Technologies Inc 7.066829e-04\n296    MYL                                          Mylan N.V. 7.006999e-04\n297   ABMD                                        ABIOMED Inc. 6.935163e-04\n298   FANG                             Diamondback Energy Inc. 6.920756e-04\n299    ETR                                 Entergy Corporation 6.896343e-04\n300   EVRG                                         Evergy Inc. 6.780386e-04\n301   CBRE                             CBRE Group Inc. Class A 6.753972e-04\n302   MXIM                      Maxim Integrated Products Inc. 6.719555e-04\n303    CHD                            Church & Dwight Co. Inc. 6.718755e-04\n304    GPC                               Genuine Parts Company 6.684037e-04\n305    MKC                    McCormick & Company Incorporated 6.650521e-04\n306    TSS                          Total System Services Inc. 6.647519e-04\n307   MSCI                                   MSCI Inc. Class A 6.631811e-04\n308     LH          Laboratory Corporation of America Holdings 6.526559e-04\n309    HSY                                     Hershey Company 6.524658e-04\n310    CNP                             CenterPoint Energy Inc. 6.480336e-04\n311   EXPE                                  Expedia Group Inc. 6.438815e-04\n312   KEYS                           Keysight Technologies Inc 6.404798e-04\n313   HBAN                  Huntington Bancshares Incorporated 6.392192e-04\n314   SNPS                                       Synopsys Inc. 6.389991e-04\n315    CMS                              CMS Energy Corporation 6.380286e-04\n316    CMG                         Chipotle Mexican Grill Inc. 6.367779e-04\n317   SWKS                             Skyworks Solutions Inc. 6.361676e-04\n318    VMC                            Vulcan Materials Company 6.352072e-04\n319   SYMC                                Symantec Corporation 6.343768e-04\n320    HCP                                            HCP Inc. 6.318055e-04\n321   CDNS                         Cadence Design Systems Inc. 6.312652e-04\n322   INCY                                  Incyte Corporation 6.284338e-04\n323   ANSS                                          ANSYS Inc. 6.232512e-04\n324    MRO                            Marathon Oil Corporation 6.196694e-04\n325    HES                                    Hess Corporation 6.190591e-04\n326    AJG                           Arthur J. Gallagher & Co. 6.175784e-04\n327    MGM                           MGM Resorts International 6.163778e-04\n328    GWW                                  W.W. Grainger Inc. 6.140466e-04\n329      K                                     Kellogg Company 6.137565e-04\n330    AAL                        American Airlines Group Inc. 6.124658e-04\n331    LEN                          Lennar Corporation Class A 6.092742e-04\n332    ARE                Alexandria Real Estate Equities Inc. 6.082837e-04\n333    RMD                                         ResMed Inc. 6.071331e-04\n334    BBY                                   Best Buy Co. Inc. 6.056024e-04\n335    CMA                               Comerica Incorporated 5.996494e-04\n336    WCG                          WellCare Health Plans Inc. 5.953673e-04\n337    DRI                             Darden Restaurants Inc. 5.935464e-04\n338    ABC                       AmerisourceBergen Corporation 5.918655e-04\n339    WDC                         Western Digital Corporation 5.916054e-04\n340    HST                          Host Hotels & Resorts Inc. 5.866429e-04\n341    DHI                                    D.R. Horton Inc. 5.829311e-04\n342   CTXS                                 Citrix Systems Inc. 5.824008e-04\n343    TXT                                        Textron Inc. 5.822107e-04\n344   ANET                                Arista Networks Inc. 5.821006e-04\n345    COO                               Cooper Companies Inc. 5.809801e-04\n346    DOV                                   Dover Corporation 5.751772e-04\n347    PFG                      Principal Financial Group Inc. 5.747170e-04\n348    TFX                               Teleflex Incorporated 5.732262e-04\n349    DVN                            Devon Energy Corporation 5.712452e-04\n350    IFF             International Flavors & Fragrances Inc. 5.703548e-04\n351    LNC                        Lincoln National Corporation 5.692042e-04\n352    XYL                                          Xylem Inc. 5.646419e-04\n353   BHGE                   Baker Hughes a GE Company Class A 5.601297e-04\n354    EFX                                        Equifax Inc. 5.579286e-04\n355     CE                                Celanese Corporation 5.579186e-04\n356    CTL                                    CenturyLink Inc. 5.574683e-04\n357      L                                   Loews Corporation 5.549771e-04\n358   SIVB                                 SVB Financial Group 5.546369e-04\n359     IT                                        Gartner Inc. 5.531062e-04\n360   CINF                    Cincinnati Financial Corporation 5.520556e-04\n361   EXPD         Expeditors International of Washington Inc. 5.477835e-04\n362   CHRW                        C.H. Robinson Worldwide Inc. 5.420206e-04\n363    APA                                  Apache Corporation 5.405199e-04\n364    EXR                            Extra Space Storage Inc. 5.384689e-04\n365   HOLX                                        Hologic Inc. 5.374083e-04\n366    AAP                             Advance Auto Parts Inc. 5.350071e-04\n367    NRG                                     NRG Energy Inc. 5.292443e-04\n368    UDR                                            UDR Inc. 5.268831e-04\n369   ETFC                       E*TRADE Financial Corporation 5.260527e-04\n370    VAR                         Varian Medical Systems Inc. 5.234614e-04\n371   WYNN                                Wynn Resorts Limited 5.205199e-04\n372    CAG                                 Conagra Brands Inc. 5.101947e-04\n373   FTNT                                       Fortinet Inc. 5.097445e-04\n374    STX                              Seagate Technology PLC 5.096245e-04\n375    DGX                      Quest Diagnostics Incorporated 5.065029e-04\n376    MLM                      Martin Marietta Materials Inc. 5.062028e-04\n377   TSCO                              Tractor Supply Company 5.057225e-04\n378    VNO                                Vornado Realty Trust 5.054024e-04\n379    MAA              Mid-America Apartment Communities Inc. 5.031012e-04\n380    HRL                            Hormel Foods Corporation 5.012603e-04\n381     BR                 Broadridge Financial Solutions Inc. 4.989791e-04\n382    SJM                                J.M. Smucker Company 4.983588e-04\n383    EMN                            Eastman Chemical Company 4.979786e-04\n384    UHS              Universal Health Services Inc. Class B 4.975784e-04\n385   NCLH                 Norwegian Cruise Line Holdings Ltd. 4.973683e-04\n386    MAS                                   Masco Corporation 4.912953e-04\n387   AKAM                            Akamai Technologies Inc. 4.905549e-04\n388    ATO                            Atmos Energy Corporation 4.900247e-04\n389    TAP                Molson Coors Brewing Company Class B 4.867230e-04\n390    MOS                                      Mosaic Company 4.859326e-04\n391    FMC                                     FMC Corporation 4.848721e-04\n392    NOV                         National Oilwell Varco Inc. 4.833113e-04\n393    REG                         Regency Centers Corporation 4.802398e-04\n394    URI                                 United Rentals Inc. 4.765079e-04\n395    COG                         Cabot Oil & Gas Corporation 4.752273e-04\n396    AES                                     AES Corporation 4.750672e-04\n397    KSS                                  Kohl's Corporation 4.714254e-04\n398    KMX                                         CarMax Inc. 4.696045e-04\n399    KSU                                Kansas City Southern 4.682138e-04\n400   CPRT                                         Copart Inc. 4.660327e-04\n401    NBL                                   Noble Energy Inc. 4.633514e-04\n402    RJF                        Raymond James Financial Inc. 4.619907e-04\n403   TTWO                  Take-Two Interactive Software Inc. 4.529462e-04\n404    DRE                             Duke Realty Corporation 4.512753e-04\n405    LNT                                 Alliant Energy Corp 4.485540e-04\n406   CBOE                             Cboe Global Markets Inc 4.448721e-04\n407   FFIV                                    F5 Networks Inc. 4.446620e-04\n408   JKHY                        Jack Henry & Associates Inc. 4.428011e-04\n409     LW                           Lamb Weston Holdings Inc. 4.403699e-04\n410    PKI                                    PerkinElmer Inc. 4.390992e-04\n411    TPR                                       Tapestry Inc. 4.385890e-04\n412   VIAB                                 Viacom Inc. Class B 4.367881e-04\n413    FTI                                      TechnipFMC Plc 4.341868e-04\n414    HAS                                         Hasbro Inc. 4.310552e-04\n415   NDAQ                                         Nasdaq Inc. 4.308651e-04\n416    IRM                                  Iron Mountain Inc. 4.289042e-04\n417    PNW                   Pinnacle West Capital Corporation 4.272633e-04\n418    WRK                                    WestRock Company 4.253424e-04\n419  DISCK                              Discovery Inc. Class C 4.248021e-04\n420    BEN                             Franklin Resources Inc. 4.240517e-04\n421    TIF                                       Tiffany & Co. 4.230212e-04\n422    FRT                     Federal Realty Investment Trust 4.207801e-04\n423     NI                                        NiSource Inc 4.200297e-04\n424   JBHT                   J.B. Hunt Transport Services Inc. 4.181888e-04\n425   ZION                           Zions Bancorporation N.A. 4.156776e-04\n426     CF                         CF Industries Holdings Inc. 4.141368e-04\n427   XRAY                                DENTSPLY SIRONA Inc. 4.130963e-04\n428   HSIC                                   Henry Schein Inc. 4.068632e-04\n429    HII                  Huntington Ingalls Industries Inc. 4.054825e-04\n430   JNPR                               Juniper Networks Inc. 4.021908e-04\n431    HFC                           HollyFrontier Corporation 4.006400e-04\n432   NLSN                                Nielsen Holdings Plc 4.002899e-04\n433    PKG                    Packaging Corporation of America 3.944870e-04\n434    AVY                          Avery Dennison Corporation 3.883139e-04\n435    IPG                 Interpublic Group of Companies Inc. 3.825310e-04\n436    SNA                                Snap-on Incorporated 3.805400e-04\n437    WHR                               Whirlpool Corporation 3.793094e-04\n438     RE                               Everest Re Group Ltd. 3.785190e-04\n439    ALB                               Albemarle Corporation 3.767281e-04\n440    MHK                              Mohawk Industries Inc. 3.750773e-04\n441    BWA                                     BorgWarner Inc. 3.740268e-04\n442   ALLE                                        Allegion PLC 3.714054e-04\n443   GRMN                                         Garmin Ltd. 3.696846e-04\n444    PVH                                           PVH Corp. 3.696646e-04\n445    TMK                               Torchmark Corporation 3.691343e-04\n446    LKQ                                     LKQ Corporation 3.688242e-04\n447    ADS                   Alliance Data Systems Corporation 3.505650e-04\n448   BF.B                    Brown-Forman Corporation Class B 3.505650e-04\n449    RHI                      Robert Half International Inc. 3.495245e-04\n450    JEC                       Jacobs Engineering Group Inc. 3.482939e-04\n451    ALK                               Alaska Air Group Inc. 3.471433e-04\n452   QRVO                                          Qorvo Inc. 3.466931e-04\n453     WU                               Western Union Company 3.396196e-04\n454    UNM                                          Unum Group 3.383189e-04\n455    SLG                               SL Green Realty Corp. 3.379187e-04\n456    AIV Apartment Investment and Management Company Class A 3.317456e-04\n457    IVZ                                        Invesco Ltd. 3.289042e-04\n458      M                                          Macy's Inc 3.234915e-04\n459   ARNC                                        Arconic Inc. 3.221308e-04\n460    KIM                            Kimco Realty Corporation 3.205200e-04\n461    DVA                                         DaVita Inc. 3.198897e-04\n462    NWL                                   Newell Brands Inc 3.183990e-04\n463    AOS                             A. O. Smith Corporation 3.176186e-04\n464    XEC                                  Cimarex Energy Co. 3.077136e-04\n465   NKTR                                 Nektar Therapeutics 3.070933e-04\n466   FLIR                                   FLIR Systems Inc. 3.052424e-04\n467    PHM                                     PulteGroup Inc. 3.023210e-04\n468     RL                    Ralph Lauren Corporation Class A 3.008902e-04\n469   DISH                    DISH Network Corporation Class A 3.003400e-04\n470    PNR                                         Pentair plc 2.993395e-04\n471     FL                                    Foot Locker Inc. 2.956276e-04\n472    HBI                                    Hanesbrands Inc. 2.951674e-04\n473    XRX                                   Xerox Corporation 2.891744e-04\n474   FBHS                 Fortune Brands Home & Security Inc. 2.876636e-04\n475    SEE                              Sealed Air Corporation 2.856726e-04\n476   CPRI                              Capri Holdings Limited 2.830813e-04\n477    CPB                               Campbell Soup Company 2.824010e-04\n478   PBCT                      People's United Financial Inc. 2.756476e-04\n479     LB                                       L Brands Inc. 2.663130e-04\n480    FLS                               Flowserve Corporation 2.653125e-04\n481     HP                              Helmerich & Payne Inc. 2.652424e-04\n482    HOG                                Harley-Davidson Inc. 2.649123e-04\n483   PRGO                                     Perrigo Co. Plc 2.626111e-04\n484    JEF                      Jefferies Financial Group Inc. 2.601699e-04\n485    ROL                                        Rollins Inc. 2.528763e-04\n486    LEG                        Leggett & Platt Incorporated 2.523660e-04\n487    AMG                      Affiliated Managers Group Inc. 2.485041e-04\n488   TRIP                                    TripAdvisor Inc. 2.479238e-04\n489   IPGP                           IPG Photonics Corporation 2.379788e-04\n490    GPS                                            Gap Inc. 2.343470e-04\n491    PWR                                Quanta Services Inc. 2.245821e-04\n492    AIZ                                       Assurant Inc. 2.211204e-04\n493    JWN                                      Nordstrom Inc. 2.172385e-04\n494    FLR                                   Fluor Corporation 2.166282e-04\n495    BHF                          Brighthouse Financial Inc. 2.135266e-04\n496   COTY                                   Coty Inc. Class A 2.120159e-04\n497    HRB                                      H&R Block Inc. 2.095646e-04\n498   NWSA                            News Corporation Class A 2.074036e-04\n499    MAT                                         Mattel Inc. 2.017908e-04\n500    MAC                                    Macerich Company 1.996897e-04\n501  DISCA                              Discovery Inc. Class A 1.940669e-04\n502     GT                      Goodyear Tire & Rubber Company 1.899448e-04\n503    UAA                           Under Armour Inc. Class A 1.670134e-04\n504     UA                           Under Armour Inc. Class C 1.521260e-04\n505    NWS                            News Corporation Class B 6.290141e-05\n506 ECA-CA                                  Encana Corporation 7.893942e-06\n                    sector shares_held\n1   Information Technology    84853600\n2   Information Technology    49533308\n3   Consumer Discretionary     4510051\n4               Financials    21364490\n5   Communication Services    26385216\n6              Health Care    29452358\n7               Financials    36529800\n8   Communication Services     3378423\n9   Communication Services     3282939\n10                  Energy    46493644\n11              Financials   100285460\n12             Health Care    10564454\n13  Information Technology    19303236\n14        Consumer Staples    27357982\n15             Health Care    63506110\n16  Information Technology    50135996\n17                  Energy    20984748\n18  Communication Services    45375500\n19  Information Technology    49397930\n20  Communication Services    79917256\n21             Industrials     5801735\n22  Consumer Discretionary    12408924\n23              Financials    46556430\n24             Health Care    28576474\n25  Information Technology     9946411\n26        Consumer Staples    42067310\n27  Communication Services    49908344\n28  Communication Services    16347008\n29        Consumer Staples    15501865\n30              Financials    26843670\n31  Communication Services     4788556\n32        Consumer Staples    15677056\n33  Consumer Discretionary     8473443\n34             Health Care    19286212\n35  Information Technology    27943780\n36        Consumer Staples    17070768\n37  Information Technology     5347148\n38  Information Technology     9968187\n39             Industrials     8075142\n40               Materials    25202004\n41             Health Care    14750220\n42             Health Care    16540164\n43             Industrials     6400274\n44  Information Technology     8398198\n45             Health Care     7000953\n46  Information Technology     4546147\n47             Health Care    10358008\n48             Industrials     8109534\n49  Information Technology    12927395\n50  Consumer Discretionary    13969941\n51             Industrials     8911586\n52  Information Technology    10552200\n53             Health Care     4421107\n54  Information Technology     6997603\n55  Information Technology     6698059\n56        Consumer Staples     4812566\n57               Materials     6051462\n58        Consumer Staples    20562772\n59             Health Care    14177615\n60  Consumer Discretionary      508639\n61               Utilities     5246468\n62             Industrials    95514760\n63  Consumer Discretionary    13623676\n64             Health Care    14155833\n65             Health Care    17923948\n66  Consumer Discretionary     8862585\n67                  Energy    12695394\n68             Health Care     2840374\n69             Industrials     6484917\n70             Real Estate     4836797\n71              Financials    16730737\n72             Industrials     7634037\n73             Industrials     2705191\n74              Financials     7715496\n75             Health Care     4101458\n76        Consumer Staples    16033591\n77              Financials     3800548\n78             Health Care     6773251\n79             Health Care     2212211\n80             Health Care     2945983\n81  Information Technology     4785852\n82             Health Care     7684789\n83  Information Technology    13311328\n84              Financials     3927643\n85  Consumer Discretionary    13690399\n86             Health Care     1253634\n87               Utilities     7828438\n88  Communication Services     1950416\n89                  Energy    15117770\n90              Financials     5061222\n91  Information Technology     2850040\n92        Consumer Staples     8841804\n93             Industrials     8814182\n94                  Energy     6326332\n95             Health Care     3389350\n96              Financials     5072966\n97        Consumer Staples     9464497\n98             Real Estate     3377012\n99              Financials    13134280\n100            Health Care    15105250\n101              Utilities     8249501\n102             Financials    14362621\n103 Communication Services    11606211\n104             Financials     1340362\n105            Industrials     3111283\n106                 Energy     8356286\n107 Consumer Discretionary    14335656\n108            Industrials     3508474\n109              Utilities    11293749\n110            Industrials     2992855\n111            Industrials     1901582\n112             Financials     2744956\n113            Real Estate     4529516\n114            Industrials     3043009\n115             Financials    10046857\n116            Health Care     2791257\n117 Information Technology    12313897\n118              Utilities    10545466\n119             Financials     5503610\n120            Health Care     5251650\n121                 Energy     7579710\n122            Real Estate     6873344\n123             Financials    10869825\n124            Industrials     3372816\n125            Health Care     3485269\n126            Health Care     1605308\n127            Industrials     2651972\n128             Financials     6265545\n129            Industrials     6845957\n130            Health Care     1504560\n131 Information Technology     6323489\n132             Financials     2647597\n133              Materials     2776346\n134             Financials     6366478\n135       Consumer Staples     3788826\n136                 Energy     4667958\n137             Financials     4565907\n138 Information Technology     4059161\n139             Financials     8441104\n140              Utilities     5381653\n141             Financials     5228546\n142            Industrials     4299405\n143            Health Care     2948341\n144 Information Technology    10734333\n145 Consumer Discretionary     5738562\n146              Materials     2394666\n147             Financials     8378780\n148             Financials     9683932\n149            Health Care     2290413\n150 Information Technology    17278248\n151            Health Care     5426107\n152              Materials      904940\n153                 Energy     4663221\n154 Information Technology     3587225\n155                 Energy    20721726\n156 Consumer Discretionary     4115142\n157 Information Technology     2379755\n158 Consumer Discretionary     3148294\n159       Consumer Staples     2449646\n160 Information Technology     4416413\n161             Financials     2919089\n162            Industrials     4725856\n163            Real Estate      882199\n164 Communication Services     8327456\n165 Consumer Discretionary    42749332\n166 Consumer Discretionary     9947385\n167                 Energy    13211548\n168            Health Care      846096\n169 Communication Services     3335426\n170             Financials     3774086\n171            Industrials    10098861\n172       Consumer Staples     5222715\n173            Industrials     1128806\n174            Industrials     6873085\n175 Information Technology     1935077\n176 Consumer Discretionary     2903658\n177              Utilities     2987326\n178 Consumer Discretionary      878425\n179            Real Estate     1636418\n180 Information Technology     2755723\n181             Financials     5028027\n182 Consumer Discretionary     3461448\n183            Industrials     5637370\n184       Consumer Staples     6794417\n185            Real Estate     4124124\n186       Consumer Staples     1825683\n187            Health Care     2433510\n188 Information Technology     3802557\n189 Information Technology     1722416\n190              Utilities     5517268\n191 Consumer Discretionary     3557434\n192             Financials     1823290\n193                 Energy     9613979\n194              Materials     3491712\n195 Information Technology     8852467\n196                 Energy     4490440\n197 Information Technology     3271969\n198              Utilities     5643593\n199            Real Estate     1509296\n200            Health Care     2181810\n201            Real Estate     4020945\n202       Consumer Staples     6506921\n203             Financials     4145673\n204            Health Care     4481716\n205              Materials     2644321\n206            Industrials     2678846\n207            Health Care     2221510\n208            Health Care     3467173\n209             Financials     1571095\n210                 Energy     1851432\n211                 Energy     2188314\n212             Financials     3746094\n213              Utilities     3396411\n214 Consumer Discretionary     3260214\n215 Communication Services     5325635\n216 Information Technology     3495366\n217            Industrials     3231765\n218            Industrials     3821761\n219            Real Estate     2249676\n220             Financials     2648802\n221       Consumer Staples     6136183\n222       Consumer Staples     8680506\n223            Industrials     1642124\n224 Consumer Discretionary     2582660\n225 Consumer Discretionary      277521\n226              Utilities     3427101\n227       Consumer Staples     4343785\n228                 Energy     5601322\n229 Consumer Discretionary     4412013\n230            Real Estate     3869811\n231 Information Technology    15643081\n232            Industrials     1443835\n233            Health Care     1760100\n234 Information Technology     1795575\n235 Communication Services     7868838\n236             Financials     1425562\n237              Utilities     3441836\n238              Utilities     7901413\n239            Industrials     1343665\n240              Utilities     1984554\n241             Financials     7453370\n242 Consumer Discretionary     2895350\n243 Information Technology     2551726\n244            Industrials      528184\n245            Real Estate     1252681\n246            Industrials     1677327\n247 Information Technology     9650679\n248             Financials     2441622\n249            Real Estate     3239184\n250            Industrials     1799774\n251            Real Estate     1675955\n252            Industrials     2500381\n253 Consumer Discretionary     1870616\n254       Consumer Staples     1400955\n255 Information Technology      963283\n256              Utilities     3538982\n257 Information Technology     1733167\n258            Industrials     1287679\n259              Materials     4461923\n260              Utilities     5312109\n261            Real Estate     8226775\n262            Industrials     3914760\n263            Health Care     3594290\n264 Information Technology     1173766\n265              Materials     3457348\n266              Materials     3769475\n267            Health Care      798947\n268       Consumer Staples     3234016\n269             Financials     1547442\n270             Financials    11484608\n271 Information Technology     3067559\n272            Real Estate      717552\n273            Health Care      945392\n274            Industrials     2514572\n275             Financials     7283773\n276            Health Care      840888\n277            Industrials     3124053\n278              Materials    15837152\n279              Utilities     1971184\n280              Materials     5794860\n281            Industrials      939128\n282             Financials     5203126\n283 Consumer Discretionary      620090\n284             Financials     3889356\n285             Financials     1843857\n286 Communication Services     3693436\n287            Industrials     2381179\n288 Information Technology     1706564\n289              Utilities     2645846\n290            Health Care      274795\n291 Communication Services     2447402\n292            Health Care     3275280\n293             Financials    11353641\n294 Information Technology     2835577\n295            Industrials      851775\n296            Health Care     5629673\n297            Health Care      490005\n298                 Energy     1678142\n299              Utilities     1963267\n300              Utilities     2951350\n301            Real Estate     3452740\n302 Information Technology     3077792\n303       Consumer Staples     2656922\n304 Consumer Discretionary     1589238\n305       Consumer Staples     1324279\n306 Information Technology     1832858\n307             Financials      968497\n308            Health Care     1111794\n309       Consumer Staples     1526384\n310              Utilities     5366678\n311 Consumer Discretionary     1296049\n312 Information Technology     2038376\n313             Financials    11671771\n314 Information Technology     1608117\n315              Utilities     3092984\n316 Consumer Discretionary      268854\n317 Information Technology     1951800\n318              Materials     1436228\n319 Information Technology     7010013\n320            Real Estate     5240775\n321 Information Technology     3071238\n322            Health Care     1910436\n323 Information Technology      913731\n324                 Energy     9281057\n325                 Energy     2750316\n326             Financials     1978764\n327 Consumer Discretionary     5589458\n328            Industrials      496123\n329       Consumer Staples     2764699\n330            Industrials     4470119\n331 Consumer Discretionary     3187318\n332            Real Estate     1153852\n333            Health Care     1546184\n334 Consumer Discretionary     2574321\n335             Financials     1776056\n336            Health Care      545599\n337 Consumer Discretionary     1354233\n338            Health Care     1747146\n339 Information Technology     3176075\n340            Real Estate     8051085\n341 Consumer Discretionary     3730843\n342 Information Technology     1399057\n343            Industrials     2716830\n344 Information Technology      564156\n345            Health Care      532562\n346            Industrials     1613347\n347             Financials     2894667\n348            Health Care      512924\n349                 Energy     5141867\n350              Materials     1105247\n351             Financials     2363409\n352            Industrials     1953788\n353                 Energy     5547419\n354            Industrials     1305700\n355              Materials     1423524\n356 Communication Services    10379065\n357             Financials     3040086\n358             Financials      574548\n359 Information Technology      987044\n360             Financials     1652133\n361            Industrials     1902907\n362            Industrials     1516193\n363                 Energy     4152349\n364            Real Estate     1381347\n365            Health Care     2969890\n366 Consumer Discretionary      805121\n367              Utilities     3188619\n368            Real Estate     3022753\n369             Financials     2835503\n370            Health Care     1008799\n371 Consumer Discretionary     1069451\n372       Consumer Staples     5327094\n373 Information Technology     1569001\n374 Information Technology     2852071\n375            Health Care     1475566\n376              Materials      681336\n377 Consumer Discretionary     1325791\n378            Real Estate     1879215\n379            Real Estate     1235370\n380       Consumer Staples     2968258\n381 Information Technology     1272004\n382       Consumer Staples     1233183\n383              Materials     1540210\n384            Health Care      939188\n385 Consumer Discretionary     2399286\n386            Industrials     3355027\n387 Information Technology     1790425\n388              Utilities     1291661\n389       Consumer Staples     2044159\n390              Materials     3871360\n391              Materials     1453268\n392                 Energy     4147562\n393            Real Estate     1852404\n394            Industrials      903877\n395                 Energy     4818499\n396              Utilities     7182509\n397 Consumer Discretionary     1829183\n398 Consumer Discretionary     1935735\n399            Industrials     1113767\n400            Industrials     2206502\n401                 Energy     5235531\n402             Financials     1435488\n403 Communication Services     1241900\n404            Real Estate     3876499\n405              Utilities     2551075\n406             Financials     1216629\n407 Information Technology      664116\n408 Information Technology      846668\n409       Consumer Staples     1620658\n410            Health Care     1195097\n411 Consumer Discretionary     3124383\n412 Communication Services     3833174\n413                 Energy     4718422\n414 Consumer Discretionary     1276288\n415             Financials     1255942\n416            Real Estate     3124109\n417              Utilities     1214980\n418              Materials     2786398\n419 Communication Services     3930185\n420             Financials     3342977\n421 Consumer Discretionary     1191398\n422            Real Estate      794526\n423              Utilities     3967883\n424            Industrials      941785\n425             Financials     2122059\n426              Materials     2536327\n427            Health Care     2424846\n428            Health Care     1668249\n429            Industrials      472130\n430 Information Technology     3793694\n431                 Energy     1770424\n432            Industrials     3893577\n433              Materials     1024844\n434              Materials      946952\n435 Communication Services     4185522\n436            Industrials      616986\n437 Consumer Discretionary      696269\n438             Financials      446368\n439              Materials     1184371\n440 Consumer Discretionary      689241\n441 Consumer Discretionary     2282471\n442            Industrials     1037700\n443 Consumer Discretionary     1320464\n444 Consumer Discretionary      837593\n445             Financials     1132802\n446 Consumer Discretionary     3475186\n447 Information Technology      517747\n448       Consumer Staples     1832793\n449            Industrials     1334917\n450            Industrials     1296545\n451            Industrials     1339031\n452 Information Technology     1361089\n453 Information Technology     4880875\n454             Financials     2382921\n455            Real Estate      943705\n456            Real Estate     1710661\n457             Financials     4461157\n458 Consumer Discretionary     3326163\n459            Industrials     4695504\n460            Real Estate     4616746\n461            Health Care     1384655\n462 Consumer Discretionary     4746547\n463            Industrials     1573427\n464                 Energy     1035895\n465            Health Care     1884332\n466 Information Technology     1489880\n467 Consumer Discretionary     2851670\n468 Consumer Discretionary      615328\n469 Communication Services     2486454\n470            Industrials     1792505\n471 Consumer Discretionary     1275513\n472 Consumer Discretionary     4022810\n473 Information Technology     2428599\n474            Industrials     1552478\n475              Materials     1733776\n476 Consumer Discretionary     1627708\n477       Consumer Staples     2076504\n478             Financials     4066548\n479 Consumer Discretionary     2491820\n480            Industrials     1420509\n481                 Energy     1182082\n482 Consumer Discretionary     1816851\n483            Health Care     1372418\n484             Financials     3166258\n485            Industrials     1612804\n486 Consumer Discretionary     1436217\n487             Financials      583435\n488 Communication Services     1116383\n489 Information Technology      393061\n490 Consumer Discretionary     2391279\n491            Industrials     1606564\n492             Financials      575956\n493 Consumer Discretionary     1250523\n494            Industrials     1526223\n495             Financials     1302087\n496       Consumer Staples     4912631\n497 Consumer Discretionary     2224465\n498 Communication Services     4161396\n499 Consumer Discretionary     3735261\n500            Real Estate     1169252\n501 Communication Services     1694339\n502 Consumer Discretionary     2585962\n503 Consumer Discretionary     2019164\n504 Consumer Discretionary     2043966\n505 Communication Services     1244468\n506                 Energy      292529\n```\n\n\n:::\n:::\n\n\n\n\n# Question\n\n<mark>Which stock prices behave similarly?</mark>\n\nAnswering this question helps us __understand which companies are related__, and we can use clustering to help us answer it!\n\nEven if you're not interested in finance, this is still a great analysis because it will tell you which companies are competitors and which are likely in the same space (often called sectors) and can be categorized together. Bottom line - This analysis can help you better understand the dynamics of the market and competition, which is useful for all types of analyses from finance to sales to marketing.  \n\nLet's get started. \n\n## Step 1 - Convert stock prices to a standardized format (daily returns)\n\nWhat you first need to do is get the data in a format that can be converted to a \"user-item\" style matrix. The challenge here is to connect the dots between what we have and what we need to do to format it properly.\n\nWe know that in order to compare the data, it needs to be standardized or normalized. Why? Because we cannot compare values (stock prices) that are of completely different magnitudes. In order to standardize, we will convert from adjusted stock price (dollar value) to daily returns (percent change from previous day). Here is the formula. \n\n$$ \nreturn_{daily} = \\frac{price_{i}-price_{i-1}}{price_{i-1}}\n$$\n\nFirst, what do we have? We have stock prices for every stock in the [SP 500 Index](https://finance.yahoo.com/quote/%5EGSPC?p=%5EGSPC), which is the daily stock prices for over 500 stocks. The data set is over 1.2M observations. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsp_500_prices_tbl %>% glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,225,765\nColumns: 8\n$ symbol   <chr> \"MSFT\", \"MSFT\", \"MSFT\", \"MSFT\", \"MSFT\", \"MSFT\", \"MSFT\", \"MSFT…\n$ date     <date> 2009-01-02, 2009-01-05, 2009-01-06, 2009-01-07, 2009-01-08, …\n$ open     <dbl> 19.53, 20.20, 20.75, 20.19, 19.63, 20.17, 19.71, 19.52, 19.53…\n$ high     <dbl> 20.40, 20.67, 21.00, 20.29, 20.19, 20.30, 19.79, 19.99, 19.68…\n$ low      <dbl> 19.37, 20.06, 20.61, 19.48, 19.55, 19.41, 19.30, 19.52, 19.01…\n$ close    <dbl> 20.33, 20.52, 20.76, 19.51, 20.12, 19.52, 19.47, 19.82, 19.09…\n$ volume   <dbl> 50084000, 61475200, 58083400, 72709900, 70255400, 49815300, 5…\n$ adjusted <dbl> 15.86624, 16.01451, 16.20183, 15.22628, 15.70234, 15.23408, 1…\n```\n\n\n:::\n:::\n\n\n\nYour first task is to convert to a tibble named `sp_500_daily_returns_tbl` by performing the following operations:\n\n- Select the `symbol`, `date` and `adjusted` columns\n- Filter to dates beginning in the year 2018 and beyond. \n- Compute a Lag of 1 day on the adjusted stock price. Be sure to group by symbol first, otherwise we will have lags computed using values from the previous stock in the data frame. \n- Remove a `NA` values from the lagging operation\n- Compute the difference between adjusted and the lag\n- Compute the percentage difference by dividing the difference by that lag. Name this column `pct_return`.\n- Return only the `symbol`, `date`, and `pct_return` columns\n- Save as a variable named `sp_500_daily_returns_tbl`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Apply your data transformation skills!\nsp_500_daily_returns_tbl <- sp_500_prices_tbl %>%\n  select(symbol, date, adjusted) %>%\n  filter(date >= '2018-01-01' & date <= '2018-12-31') %>%\n  group_by(symbol) %>%\n  mutate(lag = lag(adjusted, n = 1, default = NA)) %>%\n  ungroup() %>%\n  drop_na() %>%\n  mutate(difference = adjusted - lag) %>%\n  mutate(pct_return = difference/lag) %>%\n  select(symbol, date, pct_return)\n\n# Output: sp_500_daily_returns_tbl\n```\n:::\n\n\n\n\n## Step 2 - Convert to User-Item Format\n\nThe next step is to convert to a user-item format with the `symbol` in the first column and every other column the value of the _daily returns_ (`pct_return`) for every stock at each `date`.\n\nWe're going to import the correct results first (just in case you were not able to complete the last step).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsp_500_daily_returns_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/sp_500_daily_returns_tbl.rds\")\nsp_500_daily_returns_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 141,340 × 3\n   symbol date       pct_return\n   <chr>  <date>          <dbl>\n 1 MSFT   2018-01-03   0.00465 \n 2 MSFT   2018-01-04   0.00880 \n 3 MSFT   2018-01-05   0.0124  \n 4 MSFT   2018-01-08   0.00102 \n 5 MSFT   2018-01-09  -0.000680\n 6 MSFT   2018-01-10  -0.00453 \n 7 MSFT   2018-01-11   0.00296 \n 8 MSFT   2018-01-12   0.0173  \n 9 MSFT   2018-01-16  -0.0140  \n10 MSFT   2018-01-17   0.0203  \n# ℹ 141,330 more rows\n```\n\n\n:::\n:::\n\n\n\n\nNow that we have the daily returns (percentage change from one day to the next), we can convert to a user-item format. The user in this case is the `symbol` (company), and the item in this case is the `pct_return` at each `date`. \n\n- Spread the `date` column to get the values as percentage returns. Make sure to fill an `NA` values with zeros. \n- Save the result as `stock_date_matrix_tbl`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert to User-Item Format\nstock_date_matrix_tbl <- sp_500_daily_returns_tbl %>%\n  arrange(symbol) %>%\n  pivot_wider(names_from =date, values_from = pct_return, values_fill = 0)\n\nstock_date_matrix_tbl \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 502 × 283\n   symbol `2018-01-03` `2018-01-04` `2018-01-05` `2018-01-08` `2018-01-09`\n   <chr>         <dbl>        <dbl>        <dbl>        <dbl>        <dbl>\n 1 A          0.0254       -0.00750     0.0160        0.00215     0.0246  \n 2 AAL       -0.0123        0.00630    -0.000380     -0.00988    -0.000959\n 3 AAP        0.00905       0.0369      0.0106       -0.00704    -0.00808 \n 4 AAPL      -0.000174      0.00465     0.0114       -0.00371    -0.000115\n 5 ABBV       0.0156       -0.00570     0.0174       -0.0160      0.00754 \n 6 ABC        0.00372      -0.00222     0.0121        0.0166      0.00640 \n 7 ABMD       0.0173        0.0175      0.0154        0.0271      0.00943 \n 8 ABT        0.00221      -0.00170     0.00289      -0.00288     0.00170 \n 9 ACN        0.00462       0.0118      0.00825       0.00799     0.00333 \n10 ADBE       0.0188        0.0120      0.0116       -0.00162     0.00897 \n# ℹ 492 more rows\n# ℹ 277 more variables: `2018-01-10` <dbl>, `2018-01-11` <dbl>,\n#   `2018-01-12` <dbl>, `2018-01-16` <dbl>, `2018-01-17` <dbl>,\n#   `2018-01-18` <dbl>, `2018-01-19` <dbl>, `2018-01-22` <dbl>,\n#   `2018-01-23` <dbl>, `2018-01-24` <dbl>, `2018-01-25` <dbl>,\n#   `2018-01-26` <dbl>, `2018-01-29` <dbl>, `2018-01-30` <dbl>,\n#   `2018-01-31` <dbl>, `2018-02-01` <dbl>, `2018-02-02` <dbl>, …\n```\n\n\n:::\n\n```{.r .cell-code}\n# Output: stock_date_matrix_tbl\n```\n:::\n\n\n\n\n\n## Step 3 - Perform K-Means Clustering\n\nNext, we'll perform __K-Means clustering__. \n\nWe're going to import the correct results first (just in case you were not able to complete the last step).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstock_date_matrix_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/stock_date_matrix_tbl.rds\")\n```\n:::\n\n\n\nBeginning with the `stock_date_matrix_tbl`, perform the following operations:\n\n- Drop the non-numeric column, `symbol`\n- Perform `kmeans()` with `centers = 4` and `nstart = 20`\n- Save the result as `kmeans_obj`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create kmeans_obj for 4 centers\nkmeans_obj <- stock_date_matrix_tbl %>%\n  select(-symbol) %>%\n  kmeans(centers = 4, nstart = 20)\n```\n:::\n\n\n\nUse `glance()` to get the `tot.withinss`. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Apply glance() to get the tot.withinss\nbroom::glance(kmeans_obj)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 4\n  totss tot.withinss betweenss  iter\n  <dbl>        <dbl>     <dbl> <int>\n1  33.6         29.2      4.40     3\n```\n\n\n:::\n:::\n\n\n\n## Step 4 - Find the optimal value of K\n\nNow that we are familiar with the process for calculating `kmeans()`, let's use `purrr` to iterate over many values of \"k\" using the `centers` argument. \n\nWe'll use this __custom function__ called `kmeans_mapper()`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkmeans_mapper <- function(center = 3) {\n    stock_date_matrix_tbl %>%\n        select(-symbol) %>%\n        kmeans(centers = center, nstart = 20)\n}\n```\n:::\n\n\n\nApply the `kmeans_mapper()` and `glance()` functions iteratively using `purrr`.\n\n- Create a tibble containing column called `centers` that go from 1 to 30\n- Add a column named `k_means` with the `kmeans_mapper()` output. Use `mutate()` to add the column and `map()` to map centers to the `kmeans_mapper()` function.\n- Add a column named `glance` with the `glance()` output. Use `mutate()` and `map()` again to iterate over the column of `k_means`.\n- Save the output as `k_means_mapped_tbl` \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Use purrr to map\nkmeans_mapped_tbl <- tibble(centers = 1:30) %>%\n    mutate(k_means = centers %>% map(kmeans_mapper)) %>%\n    mutate(glance  = k_means %>% map(glance))\n\n# Output: k_means_mapped_tbl \n```\n:::\n\n\n\nNext, let's visualize the \"tot.withinss\" from the glance output as a ___Scree Plot___. \n\n- Begin with the `k_means_mapped_tbl`\n- Unnest the `glance` column\n- Plot the `centers` column (x-axis) versus the `tot.withinss` column (y-axis) using `geom_point()` and `geom_line()`\n- Add a title \"Scree Plot\" and feel free to style it with your favorite theme\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualize Scree Plot\nkmeans_mapped_tbl %>%\n    unnest(glance) %>%\n    select(centers, tot.withinss) %>%\n    \n    # Visualization\n    ggplot(aes(centers, tot.withinss)) +\n    geom_point(color = \"#2DC6D6\", size = 4) +\n    geom_line(color = \"#2DC6D6\", size = 1) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Chapter_1_Challenge_fahad_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\nWe can see that the Scree Plot becomes linear (constant rate of change) between 5 and 10 centers for K.\n\n\n## Step 5 - Apply UMAP\n\nNext, let's plot the `UMAP` 2D visualization to help us investigate cluster assignments. \n\n\nWe're going to import the correct results first (just in case you were not able to complete the last step).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nk_means_mapped_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/k_means_mapped_tbl.rds\")\nk_means_mapped_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 30 × 3\n   centers k_means  glance          \n     <int> <list>   <list>          \n 1       1 <kmeans> <tibble [1 × 4]>\n 2       2 <kmeans> <tibble [1 × 4]>\n 3       3 <kmeans> <tibble [1 × 4]>\n 4       4 <kmeans> <tibble [1 × 4]>\n 5       5 <kmeans> <tibble [1 × 4]>\n 6       6 <kmeans> <tibble [1 × 4]>\n 7       7 <kmeans> <tibble [1 × 4]>\n 8       8 <kmeans> <tibble [1 × 4]>\n 9       9 <kmeans> <tibble [1 × 4]>\n10      10 <kmeans> <tibble [1 × 4]>\n# ℹ 20 more rows\n```\n\n\n:::\n:::\n\n\n\nFirst, let's apply the `umap()` function to the `stock_date_matrix_tbl`, which contains our user-item matrix in tibble format.\n\n- Start with `stock_date_matrix_tbl`\n- De-select the `symbol` column\n- Use the `umap()` function storing the output as `umap_results`\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Apply UMAP\numap_results <- stock_date_matrix_tbl %>%\n  select(-symbol) %>%\n  umap()\n# Store results as: umap_results \n```\n:::\n\n\n\nNext, we want to combine the `layout` from the `umap_results` with the `symbol` column from the `stock_date_matrix_tbl`.\n\n- Start with `umap_results$layout`\n- Convert from a `matrix` data type to a `tibble` with `as_tibble()`\n- Bind the columns of the umap tibble with the `symbol` column from the `stock_date_matrix_tbl`.\n- Save the results as `umap_results_tbl`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert umap results to tibble with symbols\numap_results_tbl <- umap_results$layout %>%\n  as_tibble() %>%\n  cbind(stock_date_matrix_tbl$symbol)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n`.name_repair` is omitted as of tibble 2.0.0.\nℹ Using compatibility `.name_repair`.\n```\n\n\n:::\n\n```{.r .cell-code}\numap_results_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              V1           V2 stock_date_matrix_tbl$symbol\n1   -1.073107311  1.926631527                            A\n2    1.324669170  1.598854242                          AAL\n3    0.328246595 -0.347761344                          AAP\n4   -2.196437920  2.551530958                         AAPL\n5   -1.608496148 -0.088849432                         ABBV\n6   -1.052260670 -0.600668455                          ABC\n7   -2.545593145  2.008546553                         ABMD\n8   -1.546202420  1.188429326                          ABT\n9   -1.336934194  1.409834424                          ACN\n10  -2.690776164  2.429016106                         ADBE\n11  -1.588333421  3.419118151                          ADI\n12   0.220845868 -0.900078375                          ADM\n13  -1.644697631  1.461241290                          ADP\n14  -0.579858932  1.162159134                          ADS\n15  -2.742462654  2.307582021                         ADSK\n16   3.048660709 -3.355681993                          AEE\n17   3.175081295 -3.376210291                          AEP\n18   3.127614417 -3.434693573                          AES\n19  -0.799818097 -1.236312854                          AFL\n20  -1.138215256 -1.491930444                          AGN\n21  -1.095736154 -1.680394233                          AIG\n22   2.564845013 -6.125178256                          AIV\n23  -0.997085105 -1.259257031                          AIZ\n24  -1.043716415 -0.827865173                          AJG\n25  -1.180781000  1.493195519                         AKAM\n26   0.751536076  2.368825395                          ALB\n27  -2.744050900  2.024674725                         ALGN\n28   1.318478021  1.557991165                          ALK\n29  -0.879498002 -1.064614770                          ALL\n30   0.181501426  2.174856875                         ALLE\n31  -2.211097430  1.806104579                         ALXN\n32  -1.596274779  3.506320098                         AMAT\n33  -2.818000468  2.171736420                          AMD\n34   0.104146905  2.406937258                          AME\n35  -2.219915431 -1.987548551                          AMG\n36  -1.729030179  0.007181482                         AMGN\n37  -1.594917704 -2.076064189                          AMP\n38   2.601562479 -5.798341324                          AMT\n39  -2.757613125  2.653749697                         AMZN\n40  -2.576338365  2.301016772                         ANET\n41  -2.471361193  2.353175150                         ANSS\n42  -0.818521940  0.126013315                         ANTM\n43  -0.999366611 -0.770856102                          AON\n44   0.528701991  1.759558573                          AOS\n45   4.297342968  1.435413671                          APA\n46   4.407618279  1.362170757                          APC\n47   0.297267764  1.676982737                          APD\n48  -0.805861645  2.104534815                          APH\n49  -0.065839399  2.219008930                         APTV\n50   2.566020882 -6.329702250                          ARE\n51   0.114169911  2.621354369                         ARNC\n52   2.881647141 -3.316265125                          ATO\n53  -2.478956151  2.816032488                         ATVI\n54   2.679537582 -6.090461293                          AVB\n55  -1.130998554  1.896661394                         AVGO\n56   0.009213295  1.993675365                          AVY\n57   3.083325368 -3.322428693                          AWK\n58  -2.177230766 -1.669316032                          AXP\n59   0.404001217 -0.273632043                          AZO\n60  -0.679886090  2.157317544                           BA\n61  -2.199572162 -2.322899848                          BAC\n62  -1.204759877  0.854247921                          BAX\n63  -2.323922782 -2.752949710                          BBT\n64   0.716056850  0.405016397                          BBY\n65  -1.115672422  0.914615348                          BDX\n66  -2.076163291 -1.922105765                          BEN\n67  -1.597997753 -2.214383939                          BHF\n68   4.046698512  1.465305183                         BHGE\n69  -1.780328890  0.030437595                         BIIB\n70  -2.128492510 -2.305166890                           BK\n71  -1.518966607  1.846251148                         BKNG\n72  -2.266203497 -1.934702955                          BLK\n73  -0.185786507  0.525400475                          BLL\n74  -1.454209338  0.190929968                          BMY\n75  -1.056721398  1.204144395                           BR\n76  -1.552330510  1.067059979                          BSX\n77   0.062079126  2.292495302                          BWA\n78   2.435005435 -6.305471667                          BXP\n79  -1.876296013 -2.179754626                            C\n80   1.567178724 -2.046424659                          CAG\n81  -1.034054401 -0.571121412                          CAH\n82   0.374432769  2.881512588                          CAT\n83  -0.865974502 -1.253528439                           CB\n84  -1.498508825 -1.018423015                         CBOE\n85   0.051015893  1.867140567                         CBRE\n86  -0.323626793 -1.118950637                          CBS\n87   2.579263033 -5.652452365                          CCI\n88  -2.140321241  2.376800356                         CDNS\n89   0.626831051  2.001220943                           CE\n90  -1.750788667 -0.064915583                         CELG\n91  -1.287391637  0.294254149                         CERN\n92   0.798445832  1.985358329                           CF\n93  -2.355854581 -2.821703227                          CFG\n94   2.006462517 -2.875845659                          CHD\n95  -0.385487999  1.223598770                         CHRW\n96  -0.491849373 -1.604626109                         CHTR\n97  -0.879378575  0.058030773                           CI\n98  -0.788180222 -1.244383713                         CINF\n99   1.653387688 -2.621952791                           CL\n100  1.969003426 -2.906876149                          CLX\n101 -2.441254596 -2.713292668                          CMA\n102 -0.405237656 -1.441224081                        CMCSA\n103 -1.471607053 -0.939706931                          CME\n104 -0.032786359  0.088274986                          CMG\n105  0.332275619  2.801762077                          CMI\n106  3.143084549 -3.333866581                          CMS\n107 -0.978363873  0.258505128                          CNC\n108  2.967417474 -3.478925294                          CNP\n109 -2.154911194 -1.801824982                          COF\n110  3.657879912  1.431156487                          COG\n111 -1.393096518  1.152757019                          COO\n112  4.285119396  1.363475679                          COP\n113  0.575761769 -0.292110485                         COST\n114 -0.790508482  1.122692724                         COTY\n115  1.978000360 -2.452074114                          CPB\n116  0.032173842  1.324756502                         CPRI\n117 -1.247611621  0.930548776                         CPRT\n118 -2.755893797  2.354886395                          CRM\n119 -1.731727029  2.470961008                         CSCO\n120 -0.469539444  2.124838060                          CSX\n121 -0.729800125  1.155376419                         CTAS\n122  0.426909742 -1.633561511                          CTL\n123 -1.526479415  1.294185921                         CTSH\n124 -0.607549358  0.581287110                         CTXS\n125 -0.998888828 -0.537422844                          CVS\n126  4.008742808  1.495180864                          CVX\n127  4.441501626  1.322013914                          CXO\n128  3.100345973 -3.286165062                            D\n129  1.304965914  1.512473832                          DAL\n130  0.367388326  2.938535254                           DE\n131 -2.191119877 -1.752138649                          DFS\n132  0.881330438 -0.031265726                           DG\n133 -0.403758730 -0.524043739                          DGX\n134  0.941219391  0.883100176                          DHI\n135 -1.257470086  1.091050194                          DHR\n136 -0.235567127 -1.114630248                          DIS\n137 -0.390124158 -1.400217896                        DISCA\n138 -0.612936311 -1.471196906                        DISCK\n139 -0.447510056 -1.685604086                         DISH\n140  2.633276153 -6.156305718                          DLR\n141  0.609402478 -0.037198980                         DLTR\n142  0.145609441  2.508229803                          DOV\n143  2.511204756 -6.056731920                          DRE\n144 -1.052172266  0.025574389                          DRI\n145  3.116787822 -3.328428825                          DTE\n146  3.154337754 -3.319909115                          DUK\n147 -0.717623571 -0.193046977                          DVA\n148  4.371344968  1.411823992                          DVN\n149  0.835699055  2.183089147                         DWDP\n150 -0.903703845  1.359595258                          DXC\n151 -2.645379649  2.675982041                           EA\n152 -0.269435806  2.819018111                         EBAY\n153 -0.269259206  0.300234297                          ECL\n154  3.090606585 -3.546231378                           ED\n155 -0.309817292 -0.583245872                          EFX\n156  2.968374449 -3.534049618                          EIX\n157 -0.545809156  0.857914862                           EL\n158  0.755629380  2.010562083                          EMN\n159  0.394706253  2.496475648                          EMR\n160  4.475760170  1.331703477                          EOG\n161  2.585472810 -6.187104585                         EQIX\n162  2.573059675 -6.108803257                          EQR\n163  2.996056270 -3.299071348                           ES\n164  2.744582994 -6.047460256                          ESS\n165 -2.424549926 -2.218608855                         ETFC\n166  0.189103876  2.899364017                          ETN\n167  2.845601527 -3.469451919                          ETR\n168  2.887233640 -3.211489284                         EVRG\n169 -2.287924874  1.970940483                           EW\n170  2.916923298 -3.134658920                          EXC\n171 -0.186446314  1.817467761                         EXPD\n172 -1.215289407  1.725382120                         EXPE\n173  2.738969497 -6.089810627                          EXR\n174 -1.460939478 -1.484533495                            F\n175  4.435716563  1.282830175                         FANG\n176 -0.443624097  0.766099493                         FAST\n177 -2.584035139  2.514580985                           FB\n178  0.703100563  1.423866891                         FBHS\n179  0.576016606  2.669345863                          FCX\n180 -0.109506335  1.503677022                          FDX\n181  3.146523609 -3.235193452                           FE\n182 -1.585757847  1.762063602                         FFIV\n183 -1.116293097  0.989670266                          FIS\n184 -1.037065595  0.774102356                         FISV\n185 -2.492306258 -2.833565650                         FITB\n186  0.521786182  0.350342148                           FL\n187 -0.999130292  2.276534749                         FLIR\n188  0.980474318  2.435795351                          FLR\n189  0.430076626  2.472110452                          FLS\n190 -2.014776783  1.949745655                          FLT\n191  0.886727096  2.172674096                          FMC\n192 -0.092137076 -0.959463159                          FOX\n193 -0.052068401 -0.914858522                         FOXA\n194 -2.168044874 -2.821256895                          FRC\n195  2.489210050 -6.283504675                          FRT\n196  4.303861111  1.521995575                          FTI\n197 -2.466036869  2.175056522                         FTNT\n198 -0.160377687  2.221952642                          FTV\n199  1.043468606  3.224591698                           GD\n200 -1.061186996 -1.455986057                           GE\n201 -1.788465156 -0.001072917                         GILD\n202  1.815798139 -2.373829895                          GIS\n203 -0.076465502  2.652338284                          GLW\n204 -1.690942793 -1.661417383                           GM\n205 -2.584056610  2.632849903                         GOOG\n206 -2.613088545  2.543550537                        GOOGL\n207  0.452968157 -0.284055705                          GPC\n208 -2.320472425  2.335098951                          GPN\n209  0.980735151  0.116804275                          GPS\n210 -0.404556455  0.942534971                         GRMN\n211 -2.114945317 -2.330003496                           GS\n212  0.954763254  1.951835585                           GT\n213 -0.396321166  0.724769446                          GWW\n214  4.226634122  1.568703924                          HAL\n215 -0.635024803  0.654613858                          HAS\n216 -2.349599084 -2.780058924                         HBAN\n217 -2.366128082 -2.628974160                          HBI\n218  0.049368284 -0.103418643                          HCA\n219  2.672512553 -6.286157389                          HCP\n220  0.652780492  0.315730072                           HD\n221  4.470331312  1.265294728                          HES\n222  3.312908539  1.405335523                          HFC\n223 -0.946031556 -1.291853241                          HIG\n224  1.008850348  3.174405916                          HII\n225 -1.496214769  1.617083905                          HLT\n226 -1.436362717 -2.137904156                          HOG\n227 -0.882968539  1.015830438                         HOLX\n228 -0.208563042  1.457517224                          HON\n229  4.182771188  1.565518429                           HP\n230 -1.392250331  2.580338660                          HPE\n231 -1.428164034  2.843112988                          HPQ\n232 -0.266262258  0.474560078                          HRB\n233  1.735248340 -2.138003718                          HRL\n234  1.019379601  3.271362393                          HRS\n235 -1.417781117  0.569211125                         HSIC\n236  2.731881014 -6.406045416                          HST\n237  2.012137881 -2.450095099                          HSY\n238 -0.950726437  0.067073145                          HUM\n239 -1.090201740  0.661355809                          IBM\n240 -1.514942187 -0.937867770                          ICE\n241 -2.696876245  2.053708480                         IDXX\n242  0.488995720 -1.063159854                          IFF\n243 -1.990669856  2.237661052                         ILMN\n244 -1.826529342  2.529246839                         INCY\n245 -1.150640687  1.386714054                         INFO\n246 -1.543508486  3.141891275                         INTC\n247 -2.641546618  2.272118484                         INTU\n248  0.459632437  2.330712012                           IP\n249 -0.288384095 -1.107227863                          IPG\n250 -0.880124914  2.878813309                         IPGP\n251 -1.021059273  1.736414486                          IQV\n252 -0.106339387  2.575247585                           IR\n253  2.865610406 -5.934531851                          IRM\n254 -2.638128862  2.124457711                         ISRG\n255 -0.896048734  1.029716992                           IT\n256  0.145148247  2.687815017                          ITW\n257 -2.141281985 -1.968768345                          IVZ\n258 -0.416062494  1.820024020                         JBHT\n259  0.301969029  1.582551646                          JCI\n260 -0.004134780  1.964781088                          JEC\n261 -1.809727712 -1.854417308                          JEF\n262 -1.110692004  1.015695570                         JKHY\n263 -1.255333425 -0.342112788                          JNJ\n264 -0.890199153  1.407720582                         JNPR\n265 -2.155829757 -2.185131754                          JPM\n266  1.081194534  0.091979760                          JWN\n267  1.804755423 -2.346992832                            K\n268 -2.544290052 -2.729723298                          KEY\n269 -1.665722381  1.882744042                         KEYS\n270  1.476370362 -2.281818788                          KHC\n271  2.425962674 -6.220532441                          KIM\n272 -1.580531893  3.530663649                         KLAC\n273  2.103477685 -3.051977131                          KMB\n274  3.739269445  1.430976995                          KMI\n275  0.404687432  0.262457864                          KMX\n276  0.959528929 -1.799380315                           KO\n277  0.676441149 -0.341317959                           KR\n278  1.088254615  0.018682279                          KSS\n279 -0.404540435  2.087847968                          KSU\n280 -0.876240373 -1.400299476                            L\n281  1.019295939 -0.036842107                           LB\n282  0.675294619  1.313308975                          LEG\n283  0.948793448  0.915218902                          LEN\n284 -0.566571929 -0.508055962                           LH\n285  0.068315660  0.858592421                          LIN\n286 -0.110940496  2.541223369                          LKQ\n287  1.071679091  3.263526652                          LLL\n288 -1.534702310 -0.258347035                          LLY\n289  1.174380805  3.368701363                          LMT\n290 -1.569215037 -2.171314972                          LNC\n291  3.067571307 -3.253426713                          LNT\n292  0.451835566  0.497073500                          LOW\n293 -1.607796938  3.570794887                         LRCX\n294  1.206996145  1.458552862                          LUV\n295 -0.013988133 -0.369592933                           LW\n296  0.836165730  2.146899247                          LYB\n297  1.099714833 -0.001062634                            M\n298 -2.390496479  2.477037116                           MA\n299  2.624398879 -6.055644385                          MAA\n300  2.286798731 -6.293917585                          MAC\n301 -1.544942060  1.684784054                          MAR\n302  0.604153730  1.515331876                          MAS\n303 -1.390958609  1.397432896                          MAT\n304 -0.396869193 -0.650015032                          MCD\n305 -1.587802699  3.382665760                         MCHP\n306 -1.016559474 -0.501492356                          MCK\n307 -1.959882268  1.471776709                          MCO\n308  1.199384604 -2.026387783                         MDLZ\n309 -1.293784893  0.865184272                          MDT\n310 -1.470989287 -2.248547039                          MET\n311 -0.233112516  2.506911633                          MGM\n312  0.769014446  1.334604577                          MHK\n313  1.673397447 -2.195579872                          MKC\n314  0.392899020  1.100382041                          MLM\n315 -1.052218371 -0.860596868                          MMC\n316  0.378116860  2.636253890                          MMM\n317 -1.030073882  0.196036871                         MNST\n318  1.143580519 -2.163431027                           MO\n319  0.836566242  1.980317329                          MOS\n320  3.267195765  1.440472524                          MPC\n321 -1.335632783 -0.265765319                          MRK\n322  4.411916937  1.309066860                          MRO\n323 -2.262720383 -2.244928320                           MS\n324 -2.093165885  1.643644582                         MSCI\n325 -2.484920893  2.464526247                         MSFT\n326 -1.189042594  1.312322782                          MSI\n327 -2.349375059 -2.817381097                          MTB\n328 -1.099998421  1.754248756                          MTD\n329 -1.548044021  3.572809297                           MU\n330 -1.688271932  3.463588408                         MXIM\n331 -1.871290745 -1.722050326                          MYL\n332  4.507200786  1.369202303                          NBL\n333 -1.333396989  1.940171190                         NCLH\n334 -1.543955986 -0.979407808                         NDAQ\n335  3.067487651 -3.423527662                          NEE\n336  0.095358444 -0.466672456                          NEM\n337 -2.691035718  2.742234778                         NFLX\n338  3.140807046 -3.271392154                           NI\n339 -0.228523494  1.339834422                          NKE\n340 -1.581576064  0.773102554                         NKTR\n341 -1.828970515 -1.450666260                         NLSN\n342  1.130519573  3.305137811                          NOC\n343  4.264490042  1.551822056                          NOV\n344  2.818464992 -2.840845242                          NRG\n345 -0.419942332  2.223211282                          NSC\n346 -2.056537390  2.327647312                         NTAP\n347 -2.107553254 -2.272737433                         NTRS\n348  0.298397614  1.873479522                          NUE\n349 -2.749390836  2.240512106                         NVDA\n350 -0.514875167  1.792082462                          NWL\n351  0.324776721  0.886290341                          NWS\n352  0.355922062  0.896421285                         NWSA\n353  2.717408233 -6.041444659                            O\n354  3.910663563  1.442200320                          OKE\n355 -0.272444272 -1.224362354                          OMC\n356 -0.319352485  1.551813135                         ORCL\n357  0.343516721 -0.096170104                         ORLY\n358  3.997615700  1.277704377                          OXY\n359 -1.059917683  0.532571747                         PAYX\n360 -1.963944588 -2.719452539                         PBCT\n361  0.303638050  2.890098904                         PCAR\n362  3.184462320 -3.368547108                          PEG\n363  1.512753618 -2.267461814                          PEP\n364 -1.466890957 -0.109016945                          PFE\n365 -1.486797142 -2.152341016                          PFG\n366  1.577975706 -2.475750855                           PG\n367 -0.919336806 -0.770902222                          PGR\n368  0.183234454  2.829080707                           PH\n369  0.925176575  0.829062003                          PHM\n370  0.541477123  2.397525125                          PKG\n371 -1.156054380  2.019792494                          PKI\n372  2.557183987 -6.014472615                          PLD\n373  1.267104260 -2.296327348                           PM\n374 -2.198201480 -2.567533809                          PNC\n375  0.564327841  2.234253655                          PNR\n376  3.058537156 -3.362714593                          PNW\n377  0.602026885  1.686207055                          PPG\n378  3.016665610 -3.512479477                          PPL\n379 -1.218681966 -1.823868097                         PRGO\n380 -1.560098488 -2.205185558                          PRU\n381  2.818035117 -6.264690834                          PSA\n382  3.445926581  1.411114362                          PSX\n383 -0.057225499  1.419981139                          PVH\n384 -0.202192773  2.669516488                          PWR\n385  4.392198330  1.386510130                          PXD\n386 -2.442823893  2.445696668                         PYPL\n387 -0.004170424  2.089189986                         QCOM\n388 -1.781090171  3.486771873                         QRVO\n389 -1.429941914  1.875490636                          RCL\n390 -0.998737889 -1.169510045                           RE\n391  2.406870941 -6.297124256                          REG\n392 -1.762225239  0.634967099                         REGN\n393 -2.650340158 -2.665805446                           RF\n394 -1.973170690  1.968677310                          RHI\n395 -0.670861789  0.281217771                          RHT\n396 -2.543062256 -2.078413860                          RJF\n397  0.008451438  1.140443055                           RL\n398 -0.972979775  1.474757490                          RMD\n399  0.167376016  2.904560355                          ROK\n400 -0.288149646  0.472905851                          ROL\n401  0.418730609  2.400524071                          ROP\n402  0.944713829  0.048179316                         ROST\n403 -0.192717631 -0.563212587                          RSG\n404  1.087987881  3.237462950                          RTN\n405  2.564280190 -5.641389931                         SBAC\n406 -0.340073563  0.340765485                         SBUX\n407 -2.384224286 -2.111449936                         SCHW\n408 -0.083070870 -0.627519644                          SEE\n409  0.700955453  1.546147430                          SHW\n410 -2.604125639 -2.481622331                         SIVB\n411  1.775901671 -2.284581212                          SJM\n412  4.266742188  1.447873754                          SLB\n413  2.448611797 -6.365612665                          SLG\n414 -0.667601173  1.463353391                          SNA\n415 -2.113225491  2.466318012                         SNPS\n416  3.161312224 -3.392549145                           SO\n417  2.296068130 -6.178479086                          SPG\n418 -1.952340903  1.529696191                         SPGI\n419  2.919828835 -3.261315784                          SRE\n420 -2.458061063 -2.756259794                          STI\n421 -1.922375516 -2.392373026                          STT\n422 -1.084504638  3.146564503                          STX\n423 -0.619345133  0.293273411                          STZ\n424  0.074160388  2.881724006                          SWK\n425 -1.757257300  3.397224687                         SWKS\n426 -2.427124360 -1.947135313                          SYF\n427 -1.426253280  1.022573504                          SYK\n428  0.453111005  1.069279226                         SYMC\n429  0.092400227 -0.733697504                          SYY\n430  0.238179388 -1.556301752                            T\n431  0.976600520 -1.777834219                          TAP\n432 -0.107070602  2.509282839                          TDG\n433 -0.617108952  2.701702628                          TEL\n434 -1.335144848  1.144418344                          TFX\n435  0.957670429 -0.091450174                          TGT\n436  0.037851059  0.970790253                          TIF\n437  0.835204870  0.167226340                          TJX\n438 -1.447449647 -1.588446692                          TMK\n439 -0.944112996  1.863837266                          TMO\n440 -0.135245934  1.227007037                          TPR\n441 -2.353910679  2.354022587                         TRIP\n442 -2.300859915 -1.786098796                         TROW\n443 -0.793901543 -1.172948556                          TRV\n444  0.646277815  0.024900141                         TSCO\n445  1.659641619 -2.104594768                          TSN\n446 -2.000616070  2.004642837                          TSS\n447 -2.529233883  2.830185486                         TTWO\n448 -2.757210570  2.603516840                         TWTR\n449 -1.547210455  3.286185920                          TXN\n450  0.337044751  2.515424942                          TXT\n451  0.141576302  1.457551762                           UA\n452  0.121799411  1.285783811                          UAA\n453  1.399244971  1.450563635                          UAL\n454  2.490346363 -5.884979660                          UDR\n455  0.080845693 -0.199303819                          UHS\n456 -0.815302264  0.749992919                         ULTA\n457 -0.847029938  0.075046786                          UNH\n458 -1.453721863 -2.138051777                          UNM\n459 -0.428388132  2.166934629                          UNP\n460  0.054002972  0.429458777                          UPS\n461  0.332044036  2.822787786                          URI\n462 -1.263857448 -1.670292548                          USB\n463  0.071623149  2.238753378                          UTX\n464 -1.981422871  2.243242690                            V\n465 -0.869476578  1.894943435                          VAR\n466 -0.130111163  1.092356097                          VFC\n467 -0.124170671 -1.291849261                         VIAB\n468  3.335595058  1.383661944                          VLO\n469  0.544401745  1.041324768                          VMC\n470  2.331455206 -6.356966677                          VNO\n471 -0.601623471  0.826642959                         VRSK\n472 -2.440038276  2.422005092                         VRSN\n473 -1.850405157  2.161520301                         VRTX\n474  2.666841993 -6.310069614                          VTR\n475  0.852534598 -1.821016368                           VZ\n476 -0.904018094  2.097260212                          WAT\n477 -0.470635573 -0.420277271                          WBA\n478 -0.903294944  0.135610483                          WCG\n479 -1.136130493  3.192118747                          WDC\n480  3.199108906 -3.401740371                          WEC\n481  2.715131355 -6.484697752                         WELL\n482 -1.843789586 -2.468970543                          WFC\n483  0.466958406  1.453257602                          WHR\n484 -1.029736460 -0.848492919                         WLTW\n485 -0.005020159 -0.432425642                           WM\n486  3.880810204  1.530415157                          WMB\n487  0.750132381 -0.637103823                          WMT\n488  0.471508680  2.279547017                          WRK\n489 -0.416832853  0.267636408                           WU\n490  2.161817890 -6.327290007                           WY\n491 -0.239455118  2.556289675                         WYNN\n492  4.495804905  1.289852019                          XEC\n493  3.359146094 -3.229623657                          XEL\n494 -1.590623599  3.342234602                         XLNX\n495  3.956832065  1.398136965                          XOM\n496 -1.398707422  0.795174193                         XRAY\n497 -0.203824165  1.651709493                          XRX\n498  0.453645379  2.681064245                          XYL\n499 -0.313055710  0.097162980                          YUM\n500 -1.092526221  0.809159323                          ZBH\n501 -2.663933541 -2.642333729                         ZION\n502 -0.973227830  1.336913750                          ZTS\n```\n\n\n:::\n\n```{.r .cell-code}\n# Output: umap_results_tbl\n```\n:::\n\n\n\nFinally, let's make a quick visualization of the `umap_results_tbl`.\n\n- Pipe the `umap_results_tbl` into `ggplot()` mapping the columns to x-axis and y-axis\n- Add a `geom_point()` geometry with an `alpha = 0.5`\n- Apply `theme_tq()` and add a title \"UMAP Projection\"\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualize UMAP results\numap_results_tbl %>%\n  ggplot(mapping = aes(x = V1, y = V2)) +\n  geom_point(alpha = 0.5) +\n  theme_tq() +\n  ggtitle(\"UMAP Projection\")\n```\n\n::: {.cell-output-display}\n![](Chapter_1_Challenge_fahad_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\nWe can now see that we have some clusters. However, we still need to combine the K-Means clusters and the UMAP 2D representation. \n\n\n\n## Step 6 - Combine K-Means and UMAP\n\nNext, we combine the K-Means clusters and the UMAP 2D representation\n\nWe're going to import the correct results first (just in case you were not able to complete the last step).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nk_means_mapped_tbl <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/k_means_mapped_tbl.rds\")\numap_results_tbl   <- read_rds(\"C:/Users/Lenovo/OneDrive/Desktop/daqtascience/ss24-bdml-Fahad221999/Business Decisions with Machine Learning/umap_results_tbl.rds\")\n```\n:::\n\n\n\n\nFirst, pull out the K-Means for 10 Centers. Use this since beyond this value the Scree Plot flattens. \nHave a look at the business case to recall how that works.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the k_means_obj from the 10th center\nk_means_obj <- k_means_mapped_tbl %>%\n    pull(k_means) %>%\n    pluck(10)\n# Store as k_means_obj\n```\n:::\n\n\n\nNext, we'll combine the clusters from the `k_means_obj` with the `umap_results_tbl`.\n\n- Begin with the `k_means_obj`\n- Augment the `k_means_obj` with the `stock_date_matrix_tbl` to get the clusters added to the end of the tibble\n- Select just the `symbol` and `.cluster` columns\n- Left join the result with the `umap_results_tbl` by the `symbol` column\n- Left join the result with the result of `sp_500_index_tbl %>% select(symbol, company, sector)` by the `symbol` column. \n- Store the output as `umap_kmeans_results_tbl`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Use your dplyr & broom skills to combine the k_means_obj with the umap_results_tbl\numap_kmeans_results_tbl <- k_means_obj %>%\n  augment(stock_date_matrix_tbl) %>%\n  select(symbol, .cluster) %>%\n  left_join(umap_results_tbl) %>%\n  left_join(sp_500_index_tbl %>% select(symbol, company, sector), by = \"symbol\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(symbol)`\n```\n\n\n:::\n\n```{.r .cell-code}\numap_kmeans_results_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 502 × 6\n   symbol .cluster      V1      V2 company                       sector         \n   <chr>  <fct>      <dbl>   <dbl> <chr>                         <chr>          \n 1 A      7        -0.764   1.65   Agilent Technologies Inc.     Health Care    \n 2 AAL    2        -2.70    0.455  American Airlines Group Inc.  Industrials    \n 3 AAP    10        0.739  -0.0320 Advance Auto Parts Inc.       Consumer Discr…\n 4 AAPL   9         0.0130  3.09   Apple Inc.                    Information Te…\n 5 ABBV   7        -0.965  -0.0193 AbbVie Inc.                   Health Care    \n 6 ABC    5        -0.506  -0.659  AmerisourceBergen Corporation Health Care    \n 7 ABMD   9         0.436   3.10   ABIOMED Inc.                  Health Care    \n 8 ABT    7        -0.262   1.35   Abbott Laboratories           Health Care    \n 9 ACN    7         0.0598  1.63   Accenture Plc Class A         Information Te…\n10 ADBE   9         0.570   3.43   Adobe Inc.                    Information Te…\n# ℹ 492 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\n# Output: umap_kmeans_results_tbl \n```\n:::\n\n\n\nPlot the K-Means and UMAP results.\n\n- Begin with the `umap_kmeans_results_tbl`\n- Use `ggplot()` mapping `V1`, `V2` and `color = .cluster`\n- Add the `geom_point()` geometry with `alpha = 0.5`\n- Apply colors as you desire (e.g. `scale_color_manual(values = palette_light() %>% rep(3))`)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualize the combined K-Means and UMAP results\numap_kmeans_results_tbl %>%\n  ggplot(aes(x = V1, y = V2, color =.cluster)) +\n  geom_point(alpha = 0.5) \n```\n\n::: {.cell-output-display}\n![](Chapter_1_Challenge_fahad_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\n\nCongratulations! You are done with the 1st challenge!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}